{% extends "base_detail.html" %}
{% load i18n %}



{% block content %}
<h4>{% trans "Details" %}</h4>
<ul class="mb-4 list-unstyled">
<li><span class="fw-bold text-secondary-emphasis">Name:</span> {{ object.name }}<br></li>
<li><span class="fw-bold text-secondary-emphasis">Hostname:</span> {{ object.hostname }}<br></li>
<li><span class="fw-bold text-secondary-emphasis">MAC Address:</span> {{ object.mac_address }}<br></li>
<li><span class="fw-bold text-secondary-emphasis">IP Address:</span> {{ object.ip_address }}<br></li>
<li><span class="fw-bold text-secondary-emphasis">Is Active:</span> {{ object.is_active }}<br></li>
</ul>

<div class="mb-5">
<h4>{% trans "Qualifications" %}</h4>
<div class="text-body-secondary">{% with count=qualifications.count %}{% blocktrans %}{{ count }} people are qualified to use this machine:{% endblocktrans %}{% endwith %}</div>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>{% trans "Member ID" %}</th>
            <th>{% trans "Name" %}</th>
            <th>{% trans "Qualification Comment" %}</th>
            <th>{% trans "Date" %}</th>
            <th>{% trans "Revoke" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for qualification in qualifications.all %}
        <tr>
            <td><a href="{% url "people:detail" qualification.person.id %}">{{ qualification.person.member_id }}</a></td>
            <td><a href="{% url "people:detail" qualification.person.id %}">{{ qualification.person.name }}</a></td>
            <td>{{ qualification.comment }}</td>
            <td>{{ qualification.created|date:"DATE_FORMAT" }}</td>
            {% if perms.people.qualify_person %}
                <td><a href="{% url "people:revoke-qualification" qualification.person.pk qualification.pk %}">{% include "snippets/hoverable_revoke.html" %}</a></td>
                {% endif %}
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>

<div class="mb-5">
    <h4>{% trans "Instructors" %}</h4>
    <div class="text-body-secondary">{% with count=qualifications.count %}{% blocktrans %}{{ count }} people can instruct on usage of this machine:{% endblocktrans %}{% endwith %}</div>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>{% trans "Member ID" %}</th>
                <th>{% trans "Name" %}</th>
                <th>{% trans "Date" %}</th>
                <th>{% trans "Revoke" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for instructor in instructors.all %}
            <tr>
                <td><a href="{% url "people:detail" instructor.person.id %}">{{ instructor.person.member_id }}</a></td>
                <td><a href="{% url "people:detail" instructor.person.id %}">{{ instructor.person.name }}</a></td>
                <td>{{ instructor.created|date:"DATE_FORMAT" }}</td>
                {% if perms.people.qualify_person %}
                    <td><a href="{% url "people:revoke-instructor" instructor.person.pk instructor.pk %}">{% include "snippets/hoverable_revoke.html" %}</a></td>
                    {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}